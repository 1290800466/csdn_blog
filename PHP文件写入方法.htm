<!doctype html>
<html dir="ltr" lang="zh-CN">
<head>
<title>PHP 文件写入方法</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
body {font:normal 12px/24px Arial, Helvetica, sans-serif; background:#D9F0DB;}
textarea,pre {font-family:Courier; font-size:12px;}
</style>
</head>
<body>
<p><a href='_index.htm'>&lt;&lt;目录</a></p><p>1、fwrite()：</p>
<p>fwrite() 函数将内容写入一个打开的文件中。函数会在到达指定长度或读到文件末尾（EOF）时（以先到者为准），停止运行。</p>
<p>如果函数成功执行，则返回写入的字节数。如果失败，则返回 FALSE。</p>
<p>语法：fwrite(file,string,length)</p>
<p>参数<span style="white-space:pre"> </span>描述</p>
<p>file<span style="white-space:pre"> </span>必需。规定要写入的打开文件。</p>
<p>string<span style="white-space:pre"> </span>必需。规定要写入打开文件的字符串。</p>
<p>length<span style="white-space:pre"> </span>可选。规定要写入的最大字节数。</p>
<p>提示：该函数是二进制安全的。（意思是二进制数据（如图像）和字符数据都可以使用此函数写入。）<br>
</p>
<p>实例：</p>
<p><pre name="code" class="php">&lt;?php
	header(&quot;Content-Type:text/html;Charset=utf-8&quot;);
	$file_path=&quot;test.css&quot;;
	if(file_exists($file_path)){
		//如果是追加内容，则使用a+ append
		//如果是全新的写入到文件 ，则使用 w+ write
		$fp=fopen($file_path,&quot;a+&quot;);
		$con=&quot;\r\n你好!&quot;;
		for($i=0;$i&lt;10;$i++){
			fwrite($fp,$con);
		}
		echo &quot;添加ok&quot;;
		fclose($fp);
	}else{
		echo &quot;文件不存在！&quot;;
	}
?&gt;</pre><br>
2、file_put_contents()：</p>
<p></p>
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">
file_put_contents() 函数把一个字符串写入文件中。</p>
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">
该函数访问文件时，遵循以下规则：</p>
<ol style="border:0px; margin:1em 0px; padding:0px; line-height:1.5em; list-style-type:none; color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">
<li style="border:0px; margin:0px 0px 1em 2.5em; padding:0px; line-height:1.5em; font-size:1em; list-style-type:decimal">
如果设置了 FILE_USE_INCLUDE_PATH，那么将检查 *filename* 副本的内置路径</li><li style="border:0px; margin:0px 0px 1em 2.5em; padding:0px; line-height:1.5em; font-size:1em; list-style-type:decimal">
如果文件不存在，将创建一个文件</li><li style="border:0px; margin:0px 0px 1em 2.5em; padding:0px; line-height:1.5em; font-size:1em; list-style-type:decimal">
打开文件</li><li style="border:0px; margin:0px 0px 1em 2.5em; padding:0px; line-height:1.5em; font-size:1em; list-style-type:decimal">
如果设置了 LOCK_EX，那么将锁定文件</li><li style="border:0px; margin:0px 0px 1em 2.5em; padding:0px; line-height:1.5em; font-size:1em; list-style-type:decimal">
如果设置了 FILE_APPEND，那么将移至文件末尾。否则，将会清除文件的内容</li><li style="border:0px; margin:0px 0px 1em 2.5em; padding:0px; line-height:1.5em; font-size:1em; list-style-type:decimal">
向文件中写入数据</li><li style="border:0px; margin:0px 0px 1em 2.5em; padding:0px; line-height:1.5em; font-size:1em; list-style-type:decimal">
关闭文件并对所有文件解锁</li></ol>
<p style="border:0px; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; line-height:2em; font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; color:rgb(51,51,51)">
如果成功，该函数将返回写入文件中的字符数。如果失败，则返回 False。</p>
<h2 style="border:0px; margin:2px 0px; padding:0px; font-size:1.8em; line-height:1.8em; color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">
语法</h2>
<div class="code notranslate" style="border:1px solid rgb(212,212,212); margin:0px; padding:5px; width:716.106750488281px; color:rgb(68,68,68); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; background-color:rgb(246,244,240)">
<div style="border:0px; margin:0px; padding:0px; font-size:13.1999998092651px; font-family:'courier new'">
file_put_contents(file,data,mode,context)</div>
</div>
<br style="color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">
<table class="reference notranslate " style="border:0px; margin:4px 0px; padding:0px; border-collapse:collapse; width:729.166625976563px; color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif; font-size:12px">
<tbody style="border:0px; margin:0px; padding:0px">
<tr style="border:0px; margin:0px; padding:0px; background-color:rgb(246,244,240)">
<th align="left" valign="top" width="20%" style="border:1px solid rgb(85,85,85); margin:0px; padding:3px; color:rgb(255,255,255); vertical-align:top; background-color:rgb(85,85,85)">
参数</th>
<th align="left" valign="top" width="80%" style="border:1px solid rgb(85,85,85); margin:0px; padding:3px; color:rgb(255,255,255); vertical-align:top; background-color:rgb(85,85,85)">
描述</th>
</tr>
<tr style="border:0px; margin:0px; padding:0px">
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
file</td>
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
必需。规定要写入数据的文件。如果文件不存在，则创建一个新文件。</td>
</tr>
<tr style="border:0px; margin:0px; padding:0px; background-color:rgb(246,244,240)">
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
data</td>
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
必需。规定要写入文件的数据。可以是字符串、数组或数据流。</td>
</tr>
<tr style="border:0px; margin:0px; padding:0px">
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
mode</td>
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
可选。规定如何打开/写入文件。可能的&#20540;：
<ul style="border:0px; margin:1em 0px; padding:0px; line-height:16.8000011444092px; list-style-type:none">
<li style="border:0px; margin:0px 0px 1em 1em; padding:0px 0px 0px 1.5em; line-height:1.5em; font-size:1em">
FILE_USE_INCLUDE_PATH</li><li style="border:0px; margin:0px 0px 1em 1em; padding:0px 0px 0px 1.5em; line-height:1.5em; font-size:1em">
FILE_APPEND</li><li style="border:0px; margin:0px 0px 1em 1em; padding:0px 0px 0px 1.5em; line-height:1.5em; font-size:1em">
LOCK_EX</li></ul>
</td>
</tr>
<tr style="border:0px; margin:0px; padding:0px; background-color:rgb(246,244,240)">
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
context</td>
<td valign="top" style="border:1px solid rgb(212,212,212); margin:0px; padding:7px 5px; font-size:1em; vertical-align:top">
可选。规定文件句柄的环境。context 是一套可以修改流的行为的选项。</td>
</tr>
</tbody>
</table>
<h2 style="border:0px; margin:2px 0px; padding:0px; font-size:1.8em; line-height:1.8em; color:rgb(51,51,51); font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">
<span style="font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:2em; font-size:12px">注释：</span><span style="font-family:'Microsoft Yahei','Helvetica Neue',Helvetica,Arial,sans-serif; line-height:2em; font-size:12px">请使用 FILE_APPEND
 避免删除文件中已存在的内容。</span></h2>
<br>
<h1 style="border:0px; margin:0px 0px 10px; padding:0px; font-size:2.1em; font-family:'Open Sans','Helvetica Neue',Helvetica,Arial,STHeiti,'Microsoft Yahei',sans-serif">
<pre name="code" class="php">&lt;?php
	header(&quot;Content-Type:text/html;Charset=utf-8&quot;);
	$file_path=&quot;test.txt&quot;;
	$con=&quot;北京你好!\r\n&quot;;
	for($i=0;$i&lt;10;$i++){
		$con.=&quot;北京你好!\r\n&quot;;
	}
	//请不要循环的使用该函数 。
	file_put_contents($file_path,$con,FILE_APPEND); //fopen fwrite fclose
	echo &quot;ok&quot;;
?&gt;</pre><br>
<br>
</h1>
<p><a href='_index.htm'>&lt;&lt;目录</a></p>
</body>
</html>