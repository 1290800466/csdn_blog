<!doctype html>
<html dir="ltr" lang="zh-CN">
<head>
<title>phpmailer 实现邮件发送功能方法</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
body {font:normal 12px/24px Arial, Helvetica, sans-serif; background:#D9F0DB;}
textarea,pre {font-family:Courier; font-size:12px;}
</style>
</head>
<body>
<p><a href='_index.htm'>&lt;&lt;目录</a></p><pre name="code" class="php">&lt;span style=&quot;font-size:18px;&quot;&gt;&lt;?php
/* 
 * 利用 phpmailer 实现邮件发送功能方法：
 * 第一,需要下载PHPMailer文件包phpmailer. http://phpmailer.sourceforge.net/
第二,确认你的服务器系统已经支持socket ，通过phpinfo();查看是否支持sockets(socket 是属于PHP扩展部分),如果显现为“enabled”，那就是支持了。
第三,把文件解压到你的web服务器目录下，调用类就可以了.
首先包含class.phpmailer.php，然后创建对象，设置参数，调用成员函数。 
下面为调用 phpmailer 类库的方法 ：
*/
require(&quot;class.phpmailer.php&quot;);
function smtp_mail( $sendto_email, $subject, $body, $extra_hdrs, $user_name){
    $mail = new PHPMailer();
    $mail-&gt;IsSMTP();                  // 经SMTP发送
    $mail-&gt;Host = &quot;smtp.qq.com&quot;;   // SMTP 服务器
    $mail-&gt;SMTPAuth = true;           // 打开SMTP认证 
    $mail-&gt;Username = &quot;1290800466@qq.com&quot;;     // SMTP username  注意：普通邮件认证不需要加 @域名
    $mail-&gt;Password = &quot;输入发送邮箱密码&quot;; // 我的邮箱密码（发件人）
    $mail-&gt;From = &quot;1290800466@qq.com&quot;;      // 发件人邮箱
    $mail-&gt;FromName =  &quot;1290800466@qq.com&quot;;  // 发件人

    $mail-&gt;CharSet = &quot;GB2312&quot;;   // 这里指定字符集！
    $mail-&gt;Encoding = &quot;base64&quot;;
    $mail-&gt;AddAddress($sendto_email,&quot;sdwml@foxmail.com&quot;);  // 收件人邮箱和姓名
    $mail-&gt;AddReplyTo(&quot;1290800466@qq.com&quot;,&quot;1290800466@qq.com&quot;);
    //$mail-&gt;WordWrap = 50; // set word wrap 换行字数
    //$mail-&gt;AddAttachment(&quot;/var/tmp/file.tar.gz&quot;); // attachment 附件
    //$mail-&gt;AddAttachment(&quot;/tmp/image.jpg&quot;, &quot;new.jpg&quot;);
    $mail-&gt;IsHTML(true);  // send as HTML
    // 邮件主题
    $mail-&gt;Subject = $subject;
    // 邮件内容
    $mail-&gt;Body = &#39;&lt;html&gt;&lt;head&gt;   
    &lt;meta http-equiv=&quot;Content-Language&quot; content=&quot;zh-cn&quot;&gt;   
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=GB2312&quot;&gt;   
    &lt;/head&gt;   
    &lt;body&gt;  
    I love php。   
    &lt;/body&gt;   
    &lt;/html&gt;&#39;;
    $mail-&gt;AltBody =&quot;text/html&quot;;
    if(!$mail-&gt;Send())
    {
        echo &quot;邮件发送有误 &lt;p&gt;&quot;;
        echo &quot;邮件错误信息: &quot; . $mail-&gt;ErrorInfo;
        exit;
    }
    else {
        echo &quot;$user_name 邮件发送成功!&lt;br /&gt;&quot;;
    }
}
// 参数说明(发送到, 邮件主题, 邮件内容, 附加信息, 用户名)
smtp_mail(&quot;1290800466@qq.com&quot;, &quot;欢迎使用phpmailer！&quot;, &quot;NULL&quot;, &quot;1290800466@qq.com&quot;, &quot;1290800466@qq.com&quot;);&lt;/span&gt;</pre>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">完整代码见360云盘 &nbsp; &nbsp; &nbsp; /所有文件/工作学习项目源码积累/phpmailer 发送邮件源码.rar</span></p>
<p><span style="font-size:18px">或网址：</span></p>
<p><span style="font-size:18px"><a target="_blank" target="_blank" href="http://yunpan.cn/cmULXpw6kKVx2"></a>http://yunpan.cn/cHM8fJgSpH33Z &nbsp;访问密码 07be<br>
</span></p>
<p><br>
</p>
<p><a href='_index.htm'>&lt;&lt;目录</a></p>
</body>
</html>